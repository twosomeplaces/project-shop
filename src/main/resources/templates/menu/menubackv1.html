<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{fragments/header :: header}" />
<head>
    <title>Menu</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link th:href="@{/css/coffee.css}" rel="stylesheet">
</head>

<body>
    <div th:replace="~{fragments/bodyHeader :: bodyHeader}"/>
   


<div id="main" style="font-size:large; text-align: center; ">

  <div id="search" style="height: 150px;padding: 15px; font-size: small; width: 90%; margin-left: auto;  margin-right: auto;">
    <h3>[ Coffee menu Management <span style="font-size:30px;">&#9749;</span> ]</h3>

  <form name="fm_menu" autocomplete="on">
      <fieldset>

        <legend> [검색조건] </legend>
        <label>등록기간</label><input type="date" id="start_date" name="start_date">
        - <input type="date" id="end_date" name="end_date">
        <label>메뉴명</label> <input type="text" id="coffee" name="coffee">
      </select>

        &nbsp;&nbsp;<input type="submit" value="조회" style="width: 80px;height: 30px;font-weight: bold; font-size: medium">
          <button id="order" style="width: 80px;height: 30px;font-weight: bold; font-size: medium" onclick="onOrder()">주문</button>

      </fieldset>

    </form>


  </div>

  <form name="formTable" id="IdFormTable">
  <table class="table">
    <thead>
      <tr class="tr_td">
        <th>Chk</th>
        <th>메뉴명</th>
        <th>가격</th>
        <th>주문</th>
      </tr>
    </thead>

    <tbody id="t_body">
      <!--- 데이터 출력 부분 -->
      <tr th:each="prod : ${list}">
        <td><input type="checkbox" name="chkCoffeeNo" th:value="${prod.menuno}" /></td>
        <td th:text="${prod.menuname}">메뉴명</td>
        <td th:text="${#numbers.formatInteger(prod.menuprice, 0, 'COMMA')}">가격</td>
        <td><a th:href="@{coffeeorderOne(menuname=${prod.menuname}, menuprice=${prod.menuprice})}">주문</a></td>
      </tr>
    </tbody>
    
  </table>
    <input type="hidden" name="hidden_price">
  </form>
</div>

    <div th:replace="~{fragments/footer :: footer}" />

</body>

<<<<<<< HEAD
=======
<script>
    function updateTotal(element) {
        // 필요한 경우에 따라 총 가격 업데이트 등의 로직을 추가할 수 있습니다.
    }

    document.addEventListener("DOMContentLoaded", function() {
        var addButton = document.querySelectorAll(".btn-warning");

        addButton.forEach(function(button) {
            button.addEventListener("click", function() {
                var row = this.closest("tr");
                var menuno = row.querySelector("input[name='chkCoffeeNo']").value;
                var menuname = row.querySelector("td:nth-child(2)").textContent;
                var menuprice = row.querySelector("td:nth-child(3)").textContent.replace(/[^0-9]/g, '');

                // 장바구니에 추가하는 로직
                addToCart(menuno, menuname, menuprice);
            });
        });
    });

    function addToCart(menuno, menuname, menuprice) {
        // 여기에 장바구니에 추가하는 코드를 작성합니다.
        var confirmAdd = confirm("해당 상품이 장바구니에 추가되었습니다. 장바구니로 이동하시겠습니까?");
        if (confirmAdd) {
            window.location.href = "cart.html?menuno=" + menuno + "&menuname=" + menuname + "&menuprice=" + menuprice;
        } else {
            // 페이지 새로고침
            location.reload();
        }
    }
</script>
>>>>>>> parent of 1618689 (asdf)
</html>